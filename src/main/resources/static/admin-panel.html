<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dotiki Coupon Admin Panel</title>
        <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.3/dist/litera/bootstrap.min.css" rel="stylesheet" >
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css">
</head>
<body data-admin="1">
<header class="topbar">
    <div class="container topbar-inner admin-topbar-inner">
        <a class="brand" href="/"><i class="bi bi-shield-check"></i> Dotiki Coupon Admin</a>
        <nav class="nav">
            <a href="/">Site</a>
            <label class="admin-lang-switch">
                <span id="adminLangLabel">Language</span>
                <select id="adminLang">
                    <option value="en">English</option>
                    <option value="zh">中文</option>
                </select>
            </label>
            <a href="#" id="logoutBtn">Logout</a>
        </nav>
    </div>
</header>

<div class="admin-container">
    <section class="admin-nav-card">
        <div class="admin-tabs" id="adminTabs">
            <button class="admin-tab active" data-tab="dashboard" id="tabDashboard">Dashboard</button>
            <button class="admin-tab" data-tab="content" id="tabContent">Content</button>
            <button class="admin-tab" data-tab="coupons" id="tabCoupons">Coupons</button>
            <button class="admin-tab" data-tab="brands" id="tabBrands">Brands</button>
            <button class="admin-tab" data-tab="blogs" id="tabBlogs">Blogs</button>
            <button class="admin-tab" data-tab="ads" id="tabAds">Ads</button>
            <button class="admin-tab" data-tab="crawler" id="tabCrawler">Crawler</button>
        </div>
    </section>

    <section class="admin-section" data-section="dashboard">
        <h3 id="dashboardTitle">Dashboard</h3>
        <div class="stat-grid" id="statGrid">
            <article class="stat-card"><p id="statCouponsLabel">Total Coupons</p><h4 id="statCoupons">-</h4></article>
            <article class="stat-card"><p id="statBlogsLabel">Published Blogs</p><h4 id="statBlogs">-</h4></article>
            <article class="stat-card"><p id="statBrandsLabel">Total Brands</p><h4 id="statBrands">-</h4></article>
            <article class="stat-card"><p id="statCrawlerLabel">Crawler Status</p><h4 id="statCrawler">-</h4></article>
        </div>
    </section>

    <section class="admin-section hidden" data-section="content">
        <div class="section-head-admin">
            <h3 id="contentSectionTitle">Homepage Hero & Footer Content</h3>
            <span id="contentSectionDesc">Edit hero text, background image and footer social links</span>
        </div>
        <div class="admin-grid">
            <label id="contentThemeLabel">Theme Preset
                <select id="contentThemePreset">
                    <option value="scheme-a">Scheme A - Trust Blue (Recommended)</option>
                    <option value="scheme-b">Scheme B - Tech Navy + Cyan</option>
                    <option value="scheme-c">Scheme C - High Conversion Red</option>
                </select>
            </label>
            <input id="contentHeroEyebrow" placeholder="Hero eyebrow">
            <input id="contentHeroTitle" placeholder="Hero title">
            <textarea id="contentHeroSubtitle" rows="4" placeholder="Hero subtitle"></textarea>
            <input id="contentHeroBgColor" placeholder="Hero background color (e.g. #f7f9fd)">
            <label>Pick color
                <input id="contentHeroBgColorPicker" type="color" value="#f7f9fd">
            </label>
            <input id="contentHeroBgImageUrl" placeholder="Hero background image URL">
            <input id="contentFooterTagline" placeholder="Footer tagline">
            <input id="contentFooterAboutUrl" placeholder="Footer About URL">
            <input id="contentFooterPrivacyUrl" placeholder="Footer Privacy URL">
            <input id="contentFooterContactUrl" placeholder="Footer Contact URL">
            <input id="contentFooterSubmitCouponUrl" placeholder="Footer Submit Coupon URL">
            <input id="contentFooterAffiliateDisclosureUrl" placeholder="Footer Affiliate Disclosure URL">
            <input id="contentFooterTwitterUrl" placeholder="Footer Twitter/X URL">
            <input id="contentFooterInstagramUrl" placeholder="Footer Instagram URL">
            <input id="contentFooterFacebookUrl" placeholder="Footer Facebook URL">
            <input id="contentFooterYoutubeUrl" placeholder="Footer YouTube URL">
        </div>
        <div class="admin-row">
            <input id="heroImageFile" type="file" accept="image/*">
            <button id="uploadHeroImageBtn" class="primary-btn">Upload Hero Image</button>
            <button id="saveContentBtn" class="primary-btn">Save Hero Content</button>
            <span id="contentStatus"></span>
        </div>
    </section>

    <section class="admin-section hidden" data-section="coupons">
        <div class="section-head-admin">
            <h3>Coupon Management</h3>
            <span>Manage coupon info and affiliate URL</span>
        </div>
        <div class="admin-grid coupon-form-grid">
            <input id="couponStore" placeholder="Store">
            <input id="couponTitle" placeholder="Title">
            <input id="couponCategory" placeholder="Category">
            <input id="couponExpires" placeholder="Expires">
            <input id="couponCode" placeholder="Coupon Code">
            <input id="couponAffiliate" placeholder="Affiliate URL">
            <input id="couponLogo" placeholder="Logo URL">
        </div>
        <div class="admin-row">
            <button id="saveCouponBtn" class="primary-btn">Add Coupon</button>
            <button id="clearCouponBtn" class="admin-mini-btn">Clear Form</button>
            <button id="saveAllCouponsBtn" class="admin-mini-btn">Save All Edited Coupons</button>
            <span class="muted-inline">Double-click table cells to edit inline</span>
        </div>
        <div class="table-wrap"><table class="admin-table" id="couponTable"></table></div>
    </section>

    <section class="admin-section hidden" data-section="brands">
        <div class="section-head-admin">
            <h3>Brand Introduction Management</h3>
            <span>Used by Trending Stores detail pages</span>
        </div>
        <div class="admin-grid brand-form-grid">
            <input id="brandStoreName" placeholder="Store Name">
            <input id="brandSlug" placeholder="Slug (e.g. best-buy)">
            <input id="brandTitle" placeholder="Brand Title">
            <input id="brandSummary" placeholder="Summary">
            <input id="brandOfficialUrl" placeholder="Official URL">
            <input id="brandAffiliateUrl" placeholder="Affiliate URL (Store-level)">
            <input id="brandLogoUrl" placeholder="Logo URL">
            <input id="brandHeroImageUrl" placeholder="Hero Image URL">
            <textarea id="brandDescription" rows="6" placeholder="Description"></textarea>
        </div>
        <div class="admin-row">
            <button id="saveBrandBtn" class="primary-btn">Add Brand</button>
            <button id="clearBrandBtn" class="admin-mini-btn">Clear Form</button>
            <button id="saveAllBrandsBtn" class="admin-mini-btn">Save All Edited Brands</button>
            <span class="muted-inline">Double-click table cells to edit inline</span>
        </div>
        <div class="table-wrap"><table class="admin-table" id="brandTable"></table></div>
    </section>

    <section class="admin-section hidden" data-section="blogs">
        <div class="section-head-admin">
            <h3>Blog Management</h3>
            <span>Create/edit homepage blog content</span>
        </div>
        <div class="admin-grid blog-form-grid">
            <input id="blogTitle" placeholder="Blog title">
            <input id="blogSummary" placeholder="Blog summary">
            <input id="blogCover" placeholder="Cover image URL">
            <select id="blogPublished"><option value="true">Published</option><option value="false">Draft</option></select>
            <textarea id="blogContent" rows="8" placeholder="Blog content"></textarea>
        </div>
        <div class="admin-row">
            <input id="blogImageFile" type="file" accept="image/*">
            <button id="uploadImageBtn" class="primary-btn">Upload Image</button>
            <button id="saveBlogBtn" class="primary-btn">Add Blog</button>
            <button id="clearBlogBtn" class="admin-mini-btn">Clear Form</button>
            <button id="saveAllBlogsBtn" class="admin-mini-btn">Save All Edited Blogs</button>
            <span id="blogStatus"></span>
        </div>
        <div class="table-wrap"><table class="admin-table" id="blogTable"></table></div>
    </section>

    <section class="admin-section hidden" data-section="ads">
        <div class="section-head-admin">
            <h3>Ads Management</h3>
            <span>Configure strip ad, homepage/blog placements, and AdSense IDs</span>
        </div>

        <div class="admin-subcard-grid">
            <article class="admin-subcard">
                <h4>Scrolling Strip</h4>
                <div class="admin-grid">
                    <label><input type="checkbox" id="adsStripEnabled"> Enable scrolling strip ad</label>
                    <input id="adsStripText" placeholder="Strip ad text">
                    <input id="adsStripLink" placeholder="Strip ad link">
                </div>
            </article>

            <article class="admin-subcard">
                <h4>Homepage Placements</h4>
                <div class="admin-grid">
                    <label><input type="checkbox" id="adsHomeTopEnabled"> Home top ad</label>
                    <label><input type="checkbox" id="adsHomeMidEnabled"> Home mid ad</label>
                    <label><input type="checkbox" id="adsHomeSideLeftEnabled"> Home middle left ad</label>
                    <label><input type="checkbox" id="adsHomeSideRightEnabled"> Home middle right ad</label>
                    <label><input type="checkbox" id="adsHomeBottomEnabled"> Home bottom ad</label>
                </div>
            </article>

            <article class="admin-subcard">
                <h4>Blog Placements</h4>
                <div class="admin-grid">
                    <label><input type="checkbox" id="adsBlogTopEnabled"> Blog top ad</label>
                    <label><input type="checkbox" id="adsBlogInlineEnabled"> Blog inline ad</label>
                    <label><input type="checkbox" id="adsBlogBottomEnabled"> Blog bottom ad</label>
                </div>
            </article>

            <article class="admin-subcard">
                <h4>Google AdSense</h4>
                <div class="admin-grid">
                    <input id="adsenseClientId" placeholder="Google AdSense Client ID (ca-pub-xxxx)">
                    <input id="adsenseHomeSlot" placeholder="Home AdSense Slot ID">
                    <input id="adsenseBlogSlot" placeholder="Blog AdSense Slot ID">
                </div>
            </article>
        </div>

        <div class="admin-row">
            <button id="saveAdsBtn" class="primary-btn">Save Ads Config</button>
            <span id="adsStatus"></span>
        </div>
    </section>

    <section class="admin-section hidden" data-section="crawler">
        <div class="section-head-admin">
            <h3>Crawler</h3>
            <span>Coupon / Brand / Logo crawler split controls</span>
        </div>
        <div class="admin-row">
            <label><input type="checkbox" id="couponCrawlerEnabled"> Enable scheduled coupon crawler</label>
            <label>Coupon interval (minutes)
                <input id="couponCrawlerIntervalMinutes" type="number" min="1" step="1" value="30" style="width:90px;">
            </label>
            <button id="runCouponCrawlerBtn" class="primary-btn">Run Coupon Crawler</button>
        </div>
        <div class="admin-row">
            <label><input type="checkbox" id="brandCrawlerEnabled"> Enable scheduled brand crawler</label>
            <label>Brand interval (minutes)
                <input id="brandCrawlerIntervalMinutes" type="number" min="1" step="1" value="30" style="width:90px;">
            </label>
            <button id="runBrandCrawlerBtn" class="primary-btn">Run Brand Crawler</button>
        </div>
        <div class="admin-row">
            <label><input type="checkbox" id="brandLogoCrawlerEnabled"> Enable scheduled brand logo crawler</label>
            <label>Logo interval (minutes)
                <input id="brandLogoCrawlerIntervalMinutes" type="number" min="1" step="1" value="30" style="width:90px;">
            </label>
            <button id="saveCrawlerBtn" class="primary-btn">Save</button>
            <button id="runBrandLogoCrawlerBtn" class="primary-btn">Run Brand Logo Crawler</button>
            <span id="crawlerStatus"></span>
        </div>
        <div class="section-head-admin" style="margin-top:10px;">
            <h3>Crawler Sites</h3>
            <span>Add websites and control coupon/brand/logo crawling per site</span>
        </div>
        <div class="admin-grid">
            <input id="crawlerSiteName" placeholder="Site name (e.g. Slickdeals)">
            <input id="crawlerSiteBaseUrl" placeholder="Site base URL (e.g. https://slickdeals.net/)">
            <label><input id="crawlerSiteActive" type="checkbox" checked> Active</label>
            <label><input id="crawlerSiteCouponEnabled" type="checkbox" checked> Coupon crawl</label>
            <label><input id="crawlerSiteBrandEnabled" type="checkbox" checked> Brand crawl</label>
            <label><input id="crawlerSiteLogoEnabled" type="checkbox" checked> Logo crawl</label>
        </div>
        <div class="admin-row">
            <button id="saveCrawlerSiteBtn" class="primary-btn">Add Crawler Site</button>
            <span class="muted-inline">Built-in: RetailMeNot / SimplyCodes can be toggled below too</span>
        </div>
        <div class="admin-row" style="justify-content:flex-end;">
            <label style="display:flex;gap:8px;align-items:center;font-weight:600;color:#395378;">
                Log Language
                <select id="logLang" style="width:140px;">
                    <option value="en">English</option>
                    <option value="zh">中文</option>
                </select>
            </label>
        </div>
        <div class="table-wrap"><table class="admin-table" id="crawlerSiteTable"></table></div>
        <pre id="logPanel" class="logs-panel"></pre>
    </section>
</div>

<script src="./admin-panel.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>



